<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Overview of File formats • Zorn</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Overview of File formats">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">Zorn</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/install.html">Install</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/get_started.html">Get started</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-vignettes" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Vignettes</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-vignettes">
<li><h6 class="dropdown-header" data-toc-skip>Introductory Vignettes</h6></li>
    <li><a class="dropdown-item" href="../articles/slurm.html">Using SLURM</a></li>
    <li><a class="dropdown-item" href="../articles/debarcoding.html">Debarcoding</a></li>
    <li><a class="dropdown-item" href="../articles/read_quality_control.html">Read-based quality control</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/kraken.html">KRAKEN-based workflow</a></li>
    <li><a class="dropdown-item" href="../articles/alignment.html">Alignment-based workflow</a></li>
    <li><a class="dropdown-item" href="../articles/kmer.html">Informative KMER-based workflow</a></li>
    <li><a class="dropdown-item" href="../articles/countsketch.html">Count sketch KMER-based workflow</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/clustering.html">Clustering</a></li>
    <li><a class="dropdown-item" href="../articles/assembly.html">De novo assembly</a></li>
    <li><a class="dropdown-item" href="../articles/genome_annotation.html">Genome annotation</a></li>
    <li><a class="dropdown-item" href="../articles/snp_analysis.html">SNP analysis</a></li>
    <li><a class="dropdown-item" href="../articles/map_scripts.html">Map scripts</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/fileformats.html">Overview of file formats</a></li>
    <li><a class="dropdown-item" href="../articles/bascet_files.html">Working with Bascet files</a></li>
    <li><a class="dropdown-item" href="../articles/for_developers.html">For developers</a></li>
    <li><a class="dropdown-item" href="../articles/example_data.html">Example data</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../articles/faq.html">FAQ</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://henlab.org/" aria-label="Lab website"><span class="fa fa-home"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/henriksson-lab/zorn" aria-label="GitHub repository"><span class="fa fa-github"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Overview of File formats</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/henriksson-lab/zorn/blob/main/vignettes/fileformats.Rmd" class="external-link"><code>vignettes/fileformats.Rmd</code></a></small>
      <div class="d-none name"><code>fileformats.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="bascet-tirp--tirp-gz">Bascet-TIRP (.tirp.gz)<a class="anchor" aria-label="anchor" href="#bascet-tirp--tirp-gz"></a>
</h2>
<p>TIRP (Tabix-indexed read pairs) is a bgzip’ed text file with the
following columns, separated by a tab:</p>
<ul>
<li>Name of cell</li>
<li>1 (start position in tabix format; ignored)</li>
<li>1 (end position in tabix format; ignored)</li>
<li>R1 sequence</li>
<li>R2 sequence</li>
<li>R1 quality score</li>
<li>R2 quality score</li>
<li>UMI</li>
</ul>
<p>With the only exception of right after debarcoding, TIRPs are always
sorted by the name of the cell. They are then indexed using tabix. This
means that you can retrieve a list of cells in a file using the tabix
tool, but we advise you to use higher level wrappers in Zorn/Bascet to
not get locked to this file format.</p>
<p>An optional read count histogram can be stored as file:
xxx.tirp.gz.hist</p>
</div>
<div class="section level2">
<h2 id="bascet-zip--zip">Bascet-ZIP (.zip)<a class="anchor" aria-label="anchor" href="#bascet-zip--zip"></a>
</h2>
<p>We use zip files as a means of storing general data. There are the
conventions:</p>
<ul>
<li>File Y for cell XX are stored as XX/Y</li>
<li>If a cells has reads, there are stored as XX/r1.fq and XX/r2.fq</li>
<li>If a cell has contigs, they are stored as XX/contigs.fa</li>
<li>The file XX/_mapcell.log is the output from the mapcell script</li>
<li>Overall, files named XX/<em>YY are reserved as special output from
future tools. Thus avoid storing files starting with </em> in their
name</li>
</ul>
</div>
<div class="section level2">
<h2 id="bascet-fastq--r1-fq-gz-and--r2-fq-gz">Bascet-FASTQ (.R1.fq.gz and .R2.fq.gz)<a class="anchor" aria-label="anchor" href="#bascet-fastq--r1-fq-gz-and--r2-fq-gz"></a>
</h2>
<p>Some tools require FASTQ as input or output. To keep track of the
cell origin of reads, the reads have a special naming convention:</p>
<p>“BASCET_” cellID “:” UMI “:” read_number “:” read_index</p>
<p>where * cellID is the name of the cell. As FASTQ only supports some
characters, names will be mangled in the future (to be implemented) *
UMI is the unique molecular identifier * read_number is just a number,
with the same number for R1 and R2. it can be used to track read
correspondence if reads are filtered, multimapped etc. * read_index is 1
or 2, for R1 and R2</p>
<p>Reads in Bascet-FASTQ are typically sorted by cellID, read_number and
read_index, in this order. This makes it easy to read all reads for one
cell without having to scan through the entire file.</p>
</div>
<div class="section level2">
<h2 id="bascet-bam--bam">Bascet-BAM (.bam)<a class="anchor" aria-label="anchor" href="#bascet-bam--bam"></a>
</h2>
<p>To keep track of the cellular origin, reads in BAM files typically
follow the same naming convention as in Bascet-FASTQ. Thus, running any
aligner on a Bascet-FASTQ should result in valid Bascet-BAM.</p>
<p>To support other tools, the reads may also be annotated using tags.
If read names are not named according to the FASTQ scheme, i.e, if they
do not start with “BASCET_”, tools must instead scan for tags:</p>
<ul>
<li>
<span class="citation">@CB:Z</span>:…. cell_ID</li>
<li>
<span class="citation">@UB:Z</span>….. UMI</li>
</ul>
<p>This is similar to CellRanger annotation (<a href="https://www.10xgenomics.com/support/software/cell-ranger/7.2/analysis/outputs/cr-outputs-bam" class="external-link uri">https://www.10xgenomics.com/support/software/cell-ranger/7.2/analysis/outputs/cr-outputs-bam</a>),
except Bascet does not have tags for yet-to-be-corrected cell IDs and
UMIs.</p>
</div>
<div class="section level2">
<h2 id="bascet-kraken5--kraken5">Bascet-KRAKEN5 (.kraken5)<a class="anchor" aria-label="anchor" href="#bascet-kraken5--kraken5"></a>
</h2>
<p>This is a sparse matrix HDF5 file, aimed to store counts from
KRAKEN2. As KRAKEN2 outputs taxonomy IDs (starting from 0), these are
used as column indices in this matrix format.</p>
<p>More details to follow</p>
</div>
<div class="section level2">
<h2 id="bascet-hdf5--hd5">Bascet-HDF5 (.hd5)<a class="anchor" aria-label="anchor" href="#bascet-hdf5--hd5"></a>
</h2>
<p>This format loosely implements the Anndata count matrix format (<a href="https://anndata.readthedocs.io" class="external-link uri">https://anndata.readthedocs.io</a>). To accommodate for the
needs to store other types of data, these files will likely deviate from
the standard in the future. Thus, do not expect to be able to load them
with regular anndata-compatible software.</p>
<p>More details to follow</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Johan Henriksson, Laura Carroll, Hadrien Gourlé, Julian Dicken, Henriksson Lab, Carroll Lab and Collaborators.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
