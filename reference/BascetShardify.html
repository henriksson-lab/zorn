<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Take debarcoded reads and split them into suitable numbers of shards. — BascetShardify • Zorn</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Take debarcoded reads and split them into suitable numbers of shards. — BascetShardify"><meta name="description" content="The reads from one cell is guaranteed to only be present in a single shard.
This makes parallel processing simple as each shard can be processed on
a separate computer. Using more shards means that more computers can be used."><meta property="og:description" content="The reads from one cell is guaranteed to only be present in a single shard.
This makes parallel processing simple as each shard can be processed on
a separate computer. Using more shards means that more computers can be used."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">Zorn</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/install.html">Install</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/get_started.html">Get started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-vignettes" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Vignettes</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-vignettes"><li><h6 class="dropdown-header" data-toc-skip>Introductory Vignettes</h6></li>
    <li><a class="dropdown-item" href="../articles/debarcoding.html">Debarcoding</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Other stuff</h6></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../reference/faq.html">FAQ</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://henlab.org/"><span class="fa fa-home"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/henriksson-lab/zorn"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Take debarcoded reads and split them into suitable numbers of shards.</h1>
      <small class="dont-index">Source: <a href="https://github.com/henriksson-lab/zorn/blob/main/R/zorn.R" class="external-link"><code>R/zorn.R</code></a></small>
      <div class="d-none name"><code>BascetShardify.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The reads from one cell is guaranteed to only be present in a single shard.
This makes parallel processing simple as each shard can be processed on
a separate computer. Using more shards means that more computers can be used.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">BascetShardify</span><span class="op">(</span></span>
<span>  <span class="va">bascetRoot</span>,</span>
<span>  inputName <span class="op">=</span> <span class="st">"debarcoded"</span>,</span>
<span>  includeCells <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  num_output_shards <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  outputName <span class="op">=</span> <span class="st">"filtered"</span>,</span>
<span>  <span class="va">runner</span>,</span>
<span>  bascet_instance <span class="op">=</span> <span class="va">bascet_instance.default</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-inputname">inputName<a class="anchor" aria-label="anchor" href="#arg-inputname"></a></dt>
<dd><p>Name of input file: Debarcoded reads</p></dd>


<dt id="arg-outputname">outputName<a class="anchor" aria-label="anchor" href="#arg-outputname"></a></dt>
<dd><p>Name of the output file: Properly sharded debarcoded reads</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>If you perform all the calculations on a single computer, having more
than one shard will not result in a speedup. This option is only relevant
when using a cluster of compute nodes.</p>
<p>TODO if we have multiple input samples, is there a way to group them?
otherwise we will be reading more input files than needed. that said,
if we got an index, so if list of cells specified, it is possible to quickly figure out
out if a file is needed at all for a merge</p>
<p>TODO Figuring out if a file is needed can be done at "planning" (Zorn) stage</p>
<p>TODO seems faster to have a single merger that writes multiple output files if
cell list is not provided. if the overhead is accepted then read all input files and
discard cells on the fly</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Johan Henriksson, Laura Carroll, Hadrien Gourlé, Julian Dicken, Henriksson Lab, Carroll Lab and Collaborators.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

